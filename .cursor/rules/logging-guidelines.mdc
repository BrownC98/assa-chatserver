---
description: 
globs: 
alwaysApply: true
---
# ASSA Chat Server ë¡œê·¸ ì‘ì„± ê·œì¹™

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” ASSA Chat Server í”„ë¡œì íŠ¸ì—ì„œ **ì‹¤í–‰íë¦„ íŒŒì•…**ê³¼ **ë””ë²„ê¹… í¸ì˜ì„±**ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” ë¡œê·¸ ì‘ì„± ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤.

### ëª©ì 

- ì‹¤ì‹œê°„ ì±„íŒ… ì„œë²„ì˜ ë³µì¡í•œ ì‹¤í–‰ íë¦„ ì¶”ì 
- ë‹¤ì¤‘ ì‚¬ìš©ì í™˜ê²½ì—ì„œì˜ ë””ë²„ê¹… íš¨ìœ¨ì„± í–¥ìƒ
- WebRTC ì‹œê·¸ë„ë§ ê³¼ì •ì˜ ìƒì„¸ ì¶”ì 
- ë¬¸ì œ ë°œìƒ ì‹œ ë¹ ë¥¸ ì›ì¸ íŒŒì•…
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œì˜ ì‹ ì†í•œ ë¬¸ì œ í•´ê²°

### í•µì‹¬ ì›ì¹™

1. **ì»¨í…ìŠ¤íŠ¸ê°€ í’ë¶€í•œ ë¡œê·¸**: ëˆ„ê°€, ì–¸ì œ, ë¬´ì—‡ì„, ì™œ í–ˆëŠ”ì§€ ëª…í™•íˆ ê¸°ë¡
2. **ì¼ê´€ëœ êµ¬ì¡°**: ëª¨ë“  ë¡œê·¸ê°€ ë™ì¼í•œ íŒ¨í„´ê³¼ í˜•ì‹ì„ ë”°ë¦„
3. **ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨**: ìƒí™©ì— ë§ëŠ” ì •í™•í•œ ì‹¬ê°ë„ ì„¤ì •
4. **ì„±ëŠ¥ ê³ ë ¤**: ë¡œê¹…ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ìµœì†Œí™”
5. **ë³´ì•ˆ ì¤€ìˆ˜**: ë¯¼ê°í•œ ì •ë³´ ë³´í˜¸ ë° ë§ˆìŠ¤í‚¹

---

## ğŸ¯ ë¡œê·¸ ë ˆë²¨ ì •ì˜ ë° ëª¨ë²”ì‚¬ë¡€

> **ë¡œê·¸ ë ˆë²¨ ì„ íƒ ê°€ì´ë“œ**: ê° ë¡œê·¸ ë ˆë²¨ì€ íŠ¹ì • ëŒ€ìƒê³¼ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. ì ì ˆí•œ ë ˆë²¨ ì„ íƒìœ¼ë¡œ íš¨ê³¼ì ì¸ ë¡œê·¸ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### TRACE - ê°€ì¥ ìƒì„¸í•œ ì‹¤í–‰ íë¦„ ì¶”ì 

**ëŒ€ìƒ**: ê°œë°œì (ë””ë²„ê¹… ì‹œì—ë§Œ í™œì„±í™”)  
**ìš©ë„**: ë§¤ìš° ì„¸ë°€í•œ ì‹¤í–‰ íë¦„, ë³€ìˆ˜ ìƒíƒœ ë³€í™”

```java
// ë§¤ìš° ì„¸ë°€í•œ ì‹¤í–‰ íë¦„ (ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©)
log.trace("ë©”ì„œë“œ ì§„ì…: processMessage() - messageId={}, userId={}, threadId={}",
          messageId, userId, Thread.currentThread().getId());
log.trace("ë³€ìˆ˜ ìƒíƒœ ë³€ê²½: userId={}, oldStatus={}, newStatus={}, timestamp={}",
          userId, oldStatus, newStatus, System.currentTimeMillis());
log.trace("ë£¨í”„ ë°˜ë³µ: iteration={}/{}, currentItem={}, processingTime={}ms",
          i, totalItems, currentItem, processingTime);
```

### DEBUG - ìƒì„¸ ì‹¤í–‰ íë¦„ ì¶”ì 

**ëŒ€ìƒ**: ê°œë°œì  
**ìš©ë„**: ë©”ì„œë“œ ì§„ì…/ì¢…ë£Œ, ì¡°ê±´ ë¶„ê¸°, ìƒíƒœ í™•ì¸

```java
// ë©”ì„œë“œ ì§„ì…/ì¢…ë£Œ (ì»¨í…ìŠ¤íŠ¸ ì •ë³´ í¬í•¨)
log.debug("handleMessage() - START: userId={}, action={}, messageSize={}, timestamp={}",
          userId, action, message.length(), System.currentTimeMillis());
log.debug("handleMessage() - END: result={}, duration={}ms, affectedUsers={}",
          result, duration, affectedUsers);

// ì¡°ê±´ë¬¸ ë¶„ê¸° (ê²°ì • ê·¼ê±° í¬í•¨)
log.debug("ë©”ì‹œì§€ íƒ€ì… ê²€ì¦: messageType={}, isValid={}, validationRules={}",
          messageType, isValid, validationRules);
log.debug("ì‚¬ìš©ì ê¶Œí•œ í™•ì¸: userId={}, requiredRole={}, userRole={}, hasPermission={}",
          userId, requiredRole, userRole, hasPermission);

// ë°˜ë³µë¬¸ ì²˜ë¦¬ (ì§„í–‰ ìƒí™© í¬í•¨)
log.debug("ì±„íŒ…ë°© ëª©ë¡ ì²˜ë¦¬: currentIndex={}/{}, roomId={}, participantCount={}",
          i, rooms.size(), room.getId(), room.getParticipantCount());
```

### INFO - ì¤‘ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë²¤íŠ¸

**ëŒ€ìƒ**: ê°œë°œì, QA, ì§€ì›íŒ€  
**ìš©ë„**: ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤, ì‚¬ìš©ì í–‰ë™, ì‹œìŠ¤í…œ ìƒíƒœ

```java
// ì‚¬ìš©ì ìƒëª…ì£¼ê¸° (ì„¸ì…˜ ì •ë³´ í¬í•¨)
log.info("ì‚¬ìš©ì ì—°ê²° ì„±ê³µ: userId={}, userName={}, socketAddress={}, sessionId={}, userAgent={}",
         userId, userName, socket.getRemoteSocketAddress(), sessionId, userAgent);
log.info("ì‚¬ìš©ì ì—°ê²° í•´ì œ: userId={}, reason={}, sessionDuration={}ms, messagesSent={}, lastActivity={}",
         userId, reason, sessionDuration, messagesSent, lastActivity);

// ì±„íŒ…ë°© ì´ë²¤íŠ¸ (ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ í¬í•¨)
log.info("ì±„íŒ…ë°© ìƒì„± ì™„ë£Œ: roomId={}, roomName={}, masterId={}, participantLimit={}, roomType={}",
         roomId, roomName, masterId, participantLimit, roomType);
log.info("ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ: roomId={}, senderId={}, messageType={}, recipientCount={}, deliveryTime={}ms",
         roomId, senderId, messageType, recipientCount, deliveryTime);

// WebRTC ì´ë²¤íŠ¸ (ì„±ëŠ¥ ë©”íŠ¸ë¦­ í¬í•¨)
log.info("ì˜ìƒë°© ìƒì„± ì™„ë£Œ: videoRoomId={}, masterId={}, maxParticipants={}, codecType={}",
         videoRoomId, masterId, maxParticipants, codecType);
log.info("SDP êµí™˜ ì™„ë£Œ: fromUserId={}, toUserId={}, sdpType={}, negotiationTime={}ms, bandwidth={}kbps",
         fromUserId, toUserId, sdpType, negotiationTime, bandwidth);
```

### WARN - ì˜ˆìƒ ê°€ëŠ¥í•œ ë¬¸ì œ ìƒí™©

**ëŒ€ìƒ**: ê°œë°œì, ìš´ì˜íŒ€  
**ìš©ë„**: ì ì¬ì  ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ, ë¹„ì •ìƒì  ìƒí™©

```java
// ë¹„ì •ìƒì ì´ì§€ë§Œ ì²˜ë¦¬ ê°€ëŠ¥í•œ ìƒí™© (ë³µêµ¬ ì¡°ì¹˜ í¬í•¨)
log.warn("ì˜¤í”„ë¼ì¸ ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ ì „ì†¡ ì‹œë„: targetUserId={}, messageId={}, queuedForLater=true, queueSize={}",
         targetUserId, messageId, messageQueue.size());
log.warn("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì±„íŒ…ë°© ì ‘ê·¼ ì‹œë„: roomId={}, userId={}, redirectedToDefault=true, attemptCount={}",
         roomId, userId, attemptCount);
log.warn("ì¤‘ë³µ ì—°ê²° ì‹œë„ ê°ì§€: userId={}, existingSocket={}, newSocket={}, actionTaken=closeExisting",
         userId, existingSocket.getRemoteSocketAddress(), newSocket.getRemoteSocketAddress());

// ì„±ëŠ¥ ì„ê³„ê°’ ì´ˆê³¼ (ëª¨ë‹ˆí„°ë§ í•„ìš”)
log.warn("ì„±ëŠ¥ ì„ê³„ê°’ ì´ˆê³¼: operation={}, duration={}ms, threshold={}ms, currentLoad={}",
         operation, duration, threshold, currentLoad);
log.warn("ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë†’ìŒ: usedMemory={}MB, totalMemory={}MB, usage={}%, threshold={}%",
         usedMemory, totalMemory, usage, threshold);
```

### ERROR - ì˜ˆì™¸ ìƒí™© ë° ì‹œìŠ¤í…œ ì˜¤ë¥˜

**ëŒ€ìƒ**: ê°œë°œì, ìš´ì˜íŒ€, ì§€ì›íŒ€  
**ìš©ë„**: ì¦‰ì‹œ ì¡°ì‚¬ê°€ í•„ìš”í•œ ì˜¤ë¥˜, ì‚¬ìš©ì ì˜í–¥ ìˆëŠ” ë¬¸ì œ

```java
// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì˜¤ë¥˜ (ë³µêµ¬ ì‹œë„ ì •ë³´ í¬í•¨)
log.error("ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨: userId={}, roomId={}, messageType={}, attemptCount={}, nextRetry={}ms, error={}",
          userId, roomId, messageType, attemptCount, nextRetryTime, e.getMessage(), e);
log.error("ì‚¬ìš©ì ì¸ì¦ ì‹¤íŒ¨: userId={}, authMethod={}, failureReason={}, clientIP={}, attemptCount={}",
          userId, authMethod, failureReason, clientIP, attemptCount, e);

// ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì˜¤ë¥˜ (ì‹œìŠ¤í…œ ìƒíƒœ í¬í•¨)
log.error("ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨: host={}, database={}, connectionPool={}/{}, retryCount={}, error={}",
          dbHost, dbName, activeConnections, maxConnections, retryCount, e.getMessage(), e);
log.error("ì†Œì¼“ í†µì‹  ì˜¤ë¥˜: userId={}, operation={}, socketState={}, connectionAge={}ms, error={}",
          userId, operation, socket.isClosed() ? "CLOSED" : "OPEN", connectionAge, e.getMessage(), e);
```

### FATAL - ì‹œìŠ¤í…œ ì¤‘ë‹¨ ìˆ˜ì¤€ì˜ ì‹¬ê°í•œ ì˜¤ë¥˜

**ëŒ€ìƒ**: ìš´ì˜íŒ€, ì‹œìŠ¤í…œ ê´€ë¦¬ì  
**ìš©ë„**: ì‹œìŠ¤í…œ ì „ì²´ ì˜í–¥, ì¦‰ì‹œ ëŒ€ì‘ í•„ìš”

```java
// ì‹œìŠ¤í…œ ì „ì²´ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¹˜ëª…ì  ì˜¤ë¥˜
log.fatal("ì„œë²„ ì‹œì‘ ì‹¤íŒ¨: component={}, reason={}, systemState=SHUTTING_DOWN, error={}",
          component, reason, e.getMessage(), e);
log.fatal("ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ì‹œìŠ¤í…œ ë¶ˆì•ˆì •: availableMemory={}MB, threshold={}MB, activeUsers={}, action=EMERGENCY_SHUTDOWN",
          availableMemory, memoryThreshold, activeUsers);
log.fatal("ë³´ì•ˆ ì¹¨í•´ ê°ì§€: attackType={}, sourceIP={}, targetResource={}, attemptCount={}, action=BLOCK_IP",
          attackType, sourceIP, targetResource, attemptCount);
```

### ë¡œê·¸ ë ˆë²¨ ì„ íƒ ê¸°ì¤€

| ë ˆë²¨  | í”„ë¡œë•ì…˜ ì‚¬ìš© | ì„±ëŠ¥ ì˜í–¥ | ëŒ€ìƒ ë…ì          | ì¦‰ì‹œ ëŒ€ì‘ í•„ìš” |
| ----- | ------------- | --------- | ------------------ | -------------- |
| TRACE | âŒ            | ë†’ìŒ      | ê°œë°œì             | âŒ             |
| DEBUG | ì œí•œì         | ì¤‘ê°„      | ê°œë°œì             | âŒ             |
| INFO  | âœ…            | ë‚®ìŒ      | ê°œë°œì, QA, ì§€ì›íŒ€ | âŒ             |
| WARN  | âœ…            | ë‚®ìŒ      | ê°œë°œì, ìš´ì˜íŒ€     | ëª¨ë‹ˆí„°ë§       |
| ERROR | âœ…            | ë‚®ìŒ      | ëª¨ë“  íŒ€            | âœ…             |
| FATAL | âœ…            | ë‚®ìŒ      | ìš´ì˜íŒ€, ê´€ë¦¬ì     | ì¦‰ì‹œ           |

---

## ğŸ” ì‹¤í–‰íë¦„ ì¶”ì ì„ ìœ„í•œ ë¡œê·¸ íŒ¨í„´

### 1. ë©”ì„œë“œ ì§„ì…/ì¢…ë£Œ íŒ¨í„´

```java
public void sendMessage(String message, int roomId) {
    log.debug("sendMessage() - START: message={}, roomId={}, userId={}",
              message, roomId, this.userId);

    try {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        log.debug("ë©”ì‹œì§€ ìœ íš¨ì„± ê²€ì‚¬ ì™„ë£Œ");
        log.debug("ì±„íŒ…ë°© ì¡´ì¬ í™•ì¸ ì™„ë£Œ: roomId={}", roomId);
        log.debug("ë©”ì‹œì§€ DB ì €ì¥ ì™„ë£Œ: messageId={}", messageId);

    } catch (Exception e) {
        log.error("sendMessage() - ERROR: {}", e.getMessage(), e);
        throw e;
    } finally {
        log.debug("sendMessage() - END");
    }
}
```

### 2. ì¡°ê±´ ë¶„ê¸° ì¶”ì  íŒ¨í„´

```java
public void processCommand(String jsonMessage) {
    log.debug("processCommand() - START: jsonMessage={}", jsonMessage);

    Action action = parseAction(jsonMessage);
    log.debug("ëª…ë ¹ íŒŒì‹± ì™„ë£Œ: action={}", action);

    switch (action) {
        case SEND_MESSAGE:
            log.debug("ë©”ì‹œì§€ ì „ì†¡ ëª…ë ¹ ì²˜ë¦¬ ì‹œì‘");
            handleSendMessage(jsonMessage);
            break;
        case CREATE_ROOM:
            log.debug("ì±„íŒ…ë°© ìƒì„± ëª…ë ¹ ì²˜ë¦¬ ì‹œì‘");
            handleCreateRoom(jsonMessage);
            break;
        default:
            log.warn("ì•Œ ìˆ˜ ì—†ëŠ” ëª…ë ¹: action={}", action);
    }

    log.debug("processCommand() - END");
}
```

### 3. ìƒíƒœ ë³€í™” ì¶”ì  íŒ¨í„´

```java
public void updateConnectionStatus(boolean connected) {
    log.debug("ì—°ê²° ìƒíƒœ ë³€ê²½: userId={}, ì´ì „ìƒíƒœ={}, ìƒˆìƒíƒœ={}",
              userId, this.isConnected, connected);

    this.isConnected = connected;

    if (connected) {
        log.info("ì‚¬ìš©ì ì˜¨ë¼ì¸ ìƒíƒœë¡œ ë³€ê²½: userId={}", userId);
        processOfflineMessages();
    } else {
        log.info("ì‚¬ìš©ì ì˜¤í”„ë¼ì¸ ìƒíƒœë¡œ ë³€ê²½: userId={}", userId);
        cleanupResources();
    }
}
```

---

## ğŸ› ë””ë²„ê¹…ì„ ìœ„í•œ ë¡œê·¸ íŒ¨í„´

### 1. ë°ì´í„° ìƒíƒœ ë¡œê¹…

```java
// ì»¬ë ‰ì…˜ ìƒíƒœ
log.debug("í˜„ì¬ ì—°ê²°ëœ ì‚¬ìš©ì ìˆ˜: {}", connectedUsers.size());
log.debug("í™œì„± ì±„íŒ…ë°© ìˆ˜: {}", activeChatRooms.size());
log.debug("ëŒ€ê¸° ì¤‘ì¸ ë©”ì‹œì§€ ìˆ˜: userId={}, queueSize={}", userId, messageQueue.size());

// ê°ì²´ ìƒíƒœ
log.debug("ì‚¬ìš©ì ì •ë³´: userId={}, userName={}, isConnected={}",
          userId, userName, isConnected);
log.debug("ì±„íŒ…ë°© ì •ë³´: roomId={}, participantCount={}, roomType={}",
          roomId, participants.size(), roomType);
```

### 2. íƒ€ì´ë° ì •ë³´ ë¡œê¹…

```java
public void handleMessage(String message) {
    long startTime = System.currentTimeMillis();
    log.debug("ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: timestamp={}", startTime);

    try {
        // ì²˜ë¦¬ ë¡œì§

    } finally {
        long endTime = System.currentTimeMillis();
        long duration = endTime - startTime;
        log.debug("ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ: duration={}ms", duration);

        if (duration > 1000) {
            log.warn("ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œê°„ ì´ˆê³¼: duration={}ms", duration);
        }
    }
}
```

### 3. ë„¤íŠ¸ì›Œí¬ í†µì‹  ë¡œê¹…

```java
// ì†Œì¼“ í†µì‹ 
log.debug("ì†Œì¼“ ë©”ì‹œì§€ ì „ì†¡ ì‹œë„: targetUserId={}, messageLength={}",
          targetUserId, message.length());
log.debug("ì†Œì¼“ ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ: targetUserId={}", targetUserId);

// WebRTC ì‹œê·¸ë„ë§
log.debug("SDP ì „ì†¡: fromUserId={}, toUserId={}, sdpType={}, sdpLength={}",
          fromUserId, toUserId, sdpType, sdp.length());
log.debug("ICE Candidate ì „ì†¡: fromUserId={}, toUserId={}, candidate={}",
          fromUserId, toUserId, candidate);
```

---

## ğŸ“Š ë‹¤ì¤‘ ì‚¬ìš©ì í™˜ê²½ ë¡œê¹…

### 1. ì‚¬ìš©ì ì‹ë³„ ì •ë³´ í¬í•¨

```java
// ëª¨ë“  ë¡œê·¸ì— ì‚¬ìš©ì ì‹ë³„ ì •ë³´ í¬í•¨
log.debug("[User:{}] ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: action={}", userId, action);
log.info("[User:{}] ì±„íŒ…ë°© ì…ì¥: roomId={}", userId, roomId);
log.error("[User:{}] ì²˜ë¦¬ ì˜¤ë¥˜: {}", userId, e.getMessage(), e);
```

### 2. ì„¸ì…˜/ìŠ¤ë ˆë“œ ì •ë³´ í¬í•¨

```java
// ìŠ¤ë ˆë“œ ì •ë³´ë¡œ ë™ì‹œ ì²˜ë¦¬ ì¶”ì 
log.debug("[Thread:{}][User:{}] ëª…ë ¹ ì²˜ë¦¬: action={}",
          Thread.currentThread().getName(), userId, action);
```

### 3. ìƒí˜¸ì‘ìš© ë¡œê¹…

```java
// ì‚¬ìš©ì ê°„ ìƒí˜¸ì‘ìš©
log.info("ë©”ì‹œì§€ ì „ì†¡: ë°œì‹ ì={}, ìˆ˜ì‹ ì={}, ì±„íŒ…ë°©={}",
         senderId, receiverId, roomId);
log.info("ì˜ìƒí†µí™” ì´ˆëŒ€: ë°œì‹ ì={}, ìˆ˜ì‹ ì={}, ì˜ìƒë°©={}",
         callerId, calleeId, videoRoomId);
```

---

## ğŸ”§ WebRTC ì‹œê·¸ë„ë§ ì „ìš© ë¡œê¹…

### 1. ì‹œê·¸ë„ë§ ê³¼ì • ì¶”ì 

```java
// SDP êµí™˜ ê³¼ì •
log.info("SDP Offer ìƒì„±: callerId={}, calleeId={}, videoRoomId={}",
         callerId, calleeId, videoRoomId);
log.info("SDP Answer ìˆ˜ì‹ : calleeId={}, callerId={}, videoRoomId={}",
         calleeId, callerId, videoRoomId);

// ICE í›„ë³´ êµí™˜
log.debug("ICE Candidate ìˆ˜ì§‘: userId={}, candidateCount={}",
          userId, candidateCount);
log.debug("ICE Candidate ì „ì†¡: fromUserId={}, toUserId={}, candidate={}",
          fromUserId, toUserId, candidate);
```

### 2. ë¯¸ë””ì–´ ìƒíƒœ ì¶”ì 

```java
// ë¯¸ë””ì–´ ìƒíƒœ ë³€ê²½
log.info("ì¹´ë©”ë¼ ìƒíƒœ ë³€ê²½: userId={}, videoRoomId={}, enabled={}",
         userId, videoRoomId, cameraEnabled);
log.info("ë§ˆì´í¬ ìƒíƒœ ë³€ê²½: userId={}, videoRoomId={}, enabled={}",
         userId, videoRoomId, micEnabled);
```

---

## ğŸ“ ë¡œê·¸ ë©”ì‹œì§€ ì‘ì„± ê·œì¹™ ë° ëª¨ë²”ì‚¬ë¡€

### 1. ì˜ë¯¸ ìˆëŠ” ë©”ì‹œì§€ ì‘ì„±

#### âŒ ë‚˜ìœ ì˜ˆì‹œ

```java
log.info("ì²˜ë¦¬ ì¤‘");
log.error("ì˜¤ë¥˜ ë°œìƒ");
log.debug("ë©”ì„œë“œ ì‹œì‘");
```

#### âœ… ì¢‹ì€ ì˜ˆì‹œ

```java
log.info("ì‚¬ìš©ì ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘: userId={}, messageType={}, roomId={}", userId, messageType, roomId);
log.error("ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜: host={}, timeout={}ms, retryCount={}", dbHost, timeout, retryCount);
log.debug("ë©”ì‹œì§€ ê²€ì¦ ì‹œì‘: messageId={}, senderId={}, contentLength={}", messageId, senderId, content.length());
```

### 2. êµ¬ì¡°í™”ëœ ë©”ì‹œì§€ í˜•ì‹

#### ê¸°ë³¸ í˜•ì‹ íŒ¨í„´

```java
// ì„±ê³µ ì¼€ì´ìŠ¤: [ë™ì‘] + [ê²°ê³¼] + [í•µì‹¬ ì •ë³´] + [ë©”íŠ¸ë¦­]
log.info("ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ: roomId={}, messageId={}, recipientCount={}, deliveryTime={}ms",
         roomId, messageId, recipientCount, deliveryTime);

// ì‹¤íŒ¨ ì¼€ì´ìŠ¤: [ë™ì‘] + [ì‹¤íŒ¨ ì›ì¸] + [ì»¨í…ìŠ¤íŠ¸] + [ë³µêµ¬ ì¡°ì¹˜]
log.error("ì±„íŒ…ë°© ìƒì„± ì‹¤íŒ¨: ì¤‘ë³µëœ ë°© ì´ë¦„, roomName={}, masterId={}, suggestedName={}",
          roomName, masterId, suggestedName);

// ìƒíƒœ ë³€í™”: [ì´ì „ ìƒíƒœ] â†’ [ìƒˆ ìƒíƒœ] + [ë³€í™” ì›ì¸] + [ì˜í–¥]
log.info("ì‚¬ìš©ì ìƒíƒœ ë³€ê²½: userId={}, {} â†’ {}, reason={}, affectedRooms={}",
         userId, oldStatus, newStatus, reason, affectedRooms.size());
```

### 3. ì»¨í…ìŠ¤íŠ¸ ì •ë³´ í¬í•¨

#### í•„ìˆ˜ ì»¨í…ìŠ¤íŠ¸ ìš”ì†Œ

```java
// WHO: ëˆ„ê°€ (ì‚¬ìš©ì, ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸)
// WHAT: ë¬´ì—‡ì„ (ìˆ˜í–‰í•œ ì‘ì—…, ë°œìƒí•œ ì´ë²¤íŠ¸)
// WHEN: ì–¸ì œ (íƒ€ì„ìŠ¤íƒ¬í”„ëŠ” ìë™, í•„ìš”ì‹œ ë¹„ì¦ˆë‹ˆìŠ¤ ì‹œê°„)
// WHERE: ì–´ë””ì„œ (ë©”ì„œë“œ, í´ë˜ìŠ¤, ì„œë²„)
// WHY: ì™œ (ì›ì¸, íŠ¸ë¦¬ê±°)
// HOW: ì–´ë–»ê²Œ (ë°©ë²•, ê²°ê³¼)

log.info("ì‚¬ìš©ì ì±„íŒ…ë°© ì…ì¥: userId={}, userName={}, roomId={}, roomName={}, entryMethod={}, participantCount={}",
         userId, userName, roomId, roomName, entryMethod, participantCount);
```

### 4. ë³€ìˆ˜ ëª…ëª… ë° ê°’ í‘œí˜„

#### ëª…í™•í•œ ë³€ìˆ˜ëª… ì‚¬ìš©

```java
// âŒ ëª¨í˜¸í•œ ëª…ëª…
log.debug("ì²˜ë¦¬: id={}, cnt={}, res={}", id, cnt, res);

// âœ… ëª…í™•í•œ ëª…ëª…
log.debug("ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ: messageId={}, recipientCount={}, deliveryResult={}",
          messageId, recipientCount, deliveryResult);
```

#### ë‹¨ìœ„ ë° í˜•ì‹ ëª…ì‹œ

```java
// ì‹œê°„ ë‹¨ìœ„ ëª…ì‹œ
log.info("ì‘ì—… ì™„ë£Œ: duration={}ms, timeout={}s", duration, timeout);

// í¬ê¸° ë‹¨ìœ„ ëª…ì‹œ
log.warn("ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë†’ìŒ: usedMemory={}MB, maxMemory={}MB", usedMemory, maxMemory);

// ìƒíƒœ ê°’ ëª…ì‹œ
log.debug("ì—°ê²° ìƒíƒœ: isConnected={}, socketState={}, lastHeartbeat={}ms ago",
          isConnected, socket.isClosed() ? "CLOSED" : "OPEN", lastHeartbeat);
```

### 5. ì˜ˆì™¸ ì²˜ë¦¬ ë¡œê¹…

#### ì˜ˆì™¸ ì •ë³´ ì™„ì „ ê¸°ë¡

```java
// âŒ ë¶ˆì¶©ë¶„í•œ ì˜ˆì™¸ ë¡œê¹…
log.error("ì˜¤ë¥˜ ë°œìƒ", e);

// âœ… ì™„ì „í•œ ì˜ˆì™¸ ë¡œê¹…
log.error("ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨: userId={}, roomId={}, messageType={}, attemptCount={}, error={}",
          userId, roomId, messageType, attemptCount, e.getMessage(), e);
```

#### ì˜ˆì™¸ ì²˜ë¦¬ íŒ¨í„´

```java
public void processMessage(String message) {
    String messageId = generateMessageId();
    try {
        log.debug("ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: messageId={}, size={}", messageId, message.length());

        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

        log.info("ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ: messageId={}", messageId);
    } catch (ValidationException e) {
        log.warn("ë©”ì‹œì§€ ê²€ì¦ ì‹¤íŒ¨: messageId={}, validationError={}, message={}",
                 messageId, e.getValidationError(), message, e);
    } catch (Exception e) {
        log.error("ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜: messageId={}, error={}",
                  messageId, e.getMessage(), e);
        throw e;
    }
}
```

### 6. ë¯¼ê° ì •ë³´ ë³´í˜¸

#### ë§ˆìŠ¤í‚¹ ì „ëµ

```java
// ë¹„ë°€ë²ˆí˜¸ ì™„ì „ ë§ˆìŠ¤í‚¹
log.debug("ì‚¬ìš©ì ë¡œê·¸ì¸ ì‹œë„: userId={}, password={}", userId, "****");

// ì´ë©”ì¼ ë¶€ë¶„ ë§ˆìŠ¤í‚¹
log.info("ì‚¬ìš©ì ë“±ë¡: email={}, phone={}",
         maskEmail(email), maskPhone(phone));

// í† í° ë¶€ë¶„ í‘œì‹œ
log.debug("API í˜¸ì¶œ: endpoint={}, token={}...{}",
          endpoint, token.substring(0, 4), token.substring(token.length() - 4));

// ë§ˆìŠ¤í‚¹ ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ
private String maskEmail(String email) {
    if (email == null || !email.contains("@")) return "****";
    String[] parts = email.split("@");
    return parts[0].substring(0, 2) + "****@" + parts[1];
}

private String maskPhone(String phone) {
    if (phone == null || phone.length() < 4) return "****";
    return phone.substring(0, 3) + "****" + phone.substring(phone.length() - 2);
}
```

### 7. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

#### ì¡°ê±´ë¶€ ë¡œê¹…

```java
// âŒ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ëŠ” ë¡œê¹…
log.debug("ë³µì¡í•œ ê°ì²´ ì •ë³´: " + expensiveToString(complexObject));

// âœ… ì¡°ê±´ë¶€ ë¡œê¹…
if (log.isDebugEnabled()) {
    log.debug("ë³µì¡í•œ ê°ì²´ ì •ë³´: {}", expensiveToString(complexObject));
}

// âœ… ëŒë‹¤ë¥¼ ì´ìš©í•œ ì§€ì—° í‰ê°€ (Log4j2)
log.debug("ë³µì¡í•œ ê°ì²´ ì •ë³´: {}", () -> expensiveToString(complexObject));
```

#### ë¬¸ìì—´ ì—°ê²° í”¼í•˜ê¸°

```java
// âŒ ë¬¸ìì—´ ì—°ê²°
log.info("ì‚¬ìš©ì " + userId + "ê°€ ë°© " + roomId + "ì— ì…ì¥í–ˆìŠµë‹ˆë‹¤");

// âœ… íŒŒë¼ë¯¸í„°í™”ëœ ë©”ì‹œì§€
log.info("ì‚¬ìš©ì {}ê°€ ë°© {}ì— ì…ì¥í–ˆìŠµë‹ˆë‹¤", userId, roomId);
```

### 8. ì¼ê´€ì„± ìˆëŠ” ë©”ì‹œì§€ íŒ¨í„´

#### í‘œì¤€ ë©”ì‹œì§€ í…œí”Œë¦¿

```java
// ì‹œì‘/ì¢…ë£Œ íŒ¨í„´
log.debug("{}() - START: {}", methodName, parameters);
log.debug("{}() - END: result={}, duration={}ms", methodName, result, duration);

// ìƒíƒœ ë³€ê²½ íŒ¨í„´
log.info("{} ìƒíƒœ ë³€ê²½: {} â†’ {}, reason={}", entityType, oldState, newState, reason);

// ë¦¬ì†ŒìŠ¤ ì‚¬ìš© íŒ¨í„´
log.warn("{} ë¦¬ì†ŒìŠ¤ ì„ê³„ê°’ ì´ˆê³¼: current={}, threshold={}, usage={}%",
         resourceType, current, threshold, usage);

// ì™¸ë¶€ ì‹œìŠ¤í…œ í˜¸ì¶œ íŒ¨í„´
log.debug("ì™¸ë¶€ API í˜¸ì¶œ: endpoint={}, method={}, requestId={}", endpoint, method, requestId);
log.info("ì™¸ë¶€ API ì‘ë‹µ: endpoint={}, status={}, duration={}ms, requestId={}",
         endpoint, status, duration, requestId);
```

### 9. ë¡œê·¸ ë©”ì‹œì§€ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ë©”ì‹œì§€ ì‘ì„± ì „ í™•ì¸ì‚¬í•­

- [ ] **ëª…í™•ì„±**: ë©”ì‹œì§€ë§Œ ë³´ê³ ë„ ìƒí™©ì„ ì´í•´í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] **ì»¨í…ìŠ¤íŠ¸**: ëˆ„ê°€, ë¬´ì—‡ì„, ì–¸ì œ, ì–´ë””ì„œ, ì™œ, ì–´ë–»ê²Œê°€ í¬í•¨ë˜ì—ˆëŠ”ê°€?
- [ ] **ìœ ìš©ì„±**: ë””ë²„ê¹…ì´ë‚˜ ëª¨ë‹ˆí„°ë§ì— ì‹¤ì œë¡œ ë„ì›€ì´ ë˜ëŠ”ê°€?
- [ ] **ì¼ê´€ì„±**: í”„ë¡œì íŠ¸ì˜ ë‹¤ë¥¸ ë¡œê·¸ì™€ í˜•ì‹ì´ ì¼ì¹˜í•˜ëŠ”ê°€?
- [ ] **ë³´ì•ˆ**: ë¯¼ê°í•œ ì •ë³´ê°€ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ê°€?
- [ ] **ì„±ëŠ¥**: ë¡œê¹…ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ê°€ ì—†ëŠ”ê°€?
- [ ] **ì ì ˆì„±**: ë¡œê·¸ ë ˆë²¨ì´ ë©”ì‹œì§€ì˜ ì¤‘ìš”ë„ì™€ ì¼ì¹˜í•˜ëŠ”ê°€?

---

## ğŸ›ï¸ ë¡œê·¸ ì„¤ì • (log4j2.xml)

### ê°œë°œ í™˜ê²½ ì„¤ì •

```xml
<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
    <Appenders>
        <!-- ì½˜ì†” ì¶œë ¥ -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/>
        </Console>

        <!-- íŒŒì¼ ì¶œë ¥ -->
        <File name="FileAppender" fileName="logs/assa-chat-server.log">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/>
        </File>
    </Appenders>

    <Loggers>
        <!-- íŒ¨í‚¤ì§€ë³„ ë¡œê·¸ ë ˆë²¨ ì„¤ì • -->
        <Logger name="com.teamnova.user" level="DEBUG" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="FileAppender"/>
        </Logger>

        <Logger name="com.teamnova.chat" level="DEBUG" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="FileAppender"/>
        </Logger>

        <Logger name="com.teamnova.webrtc" level="DEBUG" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="FileAppender"/>
        </Logger>

        <Root level="INFO">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="FileAppender"/>
        </Root>
    </Loggers>
</Configuration>
```

---

## ğŸš€ ì‹¤ì œ ì ìš© ì˜ˆì‹œ

### User í´ë˜ìŠ¤ ë¡œê¹… ì˜ˆì‹œ (ê°œì„ ëœ ë²„ì „)

```java
public class User extends Thread {
    private static final Logger log = LogManager.getLogger(User.class);
    private final String sessionId = UUID.randomUUID().toString().substring(0, 8);
    private long connectionStartTime;
    private int messageCount = 0;

    @Override
    public void run() {
        connectionStartTime = System.currentTimeMillis();

        log.info("ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘: userId={}, sessionId={}, socketAddress={}, threadId={}, timestamp={}",
                 userId, sessionId, socket.getRemoteSocketAddress(),
                 Thread.currentThread().getId(), connectionStartTime);

        try {
            while (isConnected && !socket.isClosed()) {
                log.trace("ë©”ì‹œì§€ ëŒ€ê¸° ìƒíƒœ: userId={}, sessionId={}, socketState={}, isConnected={}",
                         userId, sessionId, socket.isClosed() ? "CLOSED" : "OPEN", isConnected);

                String message = bufferedReader.readLine();
                if (message != null) {
                    messageCount++;
                    log.debug("ë©”ì‹œì§€ ìˆ˜ì‹ : userId={}, sessionId={}, messageCount={}, messageSize={}bytes, timestamp={}",
                             userId, sessionId, messageCount, message.length(), System.currentTimeMillis());

                    long processingStart = System.currentTimeMillis();
                    processMessage(message);
                    long processingTime = System.currentTimeMillis() - processingStart;

                    log.debug("ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ: userId={}, sessionId={}, messageCount={}, processingTime={}ms",
                             userId, sessionId, messageCount, processingTime);
                } else {
                    log.warn("ì—°ê²° ì¢…ë£Œ ì‹ í˜¸ ê°ì§€: userId={}, sessionId={}, messageCount={}, sessionDuration={}ms",
                            userId, sessionId, messageCount, System.currentTimeMillis() - connectionStartTime);
                    break;
                }
            }
        } catch (IOException e) {
            log.error("ì†Œì¼“ í†µì‹  ì˜¤ë¥˜: userId={}, sessionId={}, messageCount={}, sessionDuration={}ms, error={}",
                     userId, sessionId, messageCount,
                     System.currentTimeMillis() - connectionStartTime, e.getMessage(), e);
        } finally {
            long sessionDuration = System.currentTimeMillis() - connectionStartTime;
            log.info("ì‚¬ìš©ì ì„¸ì…˜ ì¢…ë£Œ: userId={}, sessionId={}, totalMessages={}, sessionDuration={}ms, avgProcessingTime={}ms",
                     userId, sessionId, messageCount, sessionDuration,
                     messageCount > 0 ? sessionDuration / messageCount : 0);
            cleanup();
        }
    }

    private void processMessage(String message) {
        String requestId = UUID.randomUUID().toString().substring(0, 8);

        log.debug("ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: userId={}, sessionId={}, requestId={}, messageSize={}bytes",
                  userId, sessionId, requestId, message.length());

        try {
            // JSON íŒŒì‹±
            JsonObject jsonObject = JsonParser.parseString(message).getAsJsonObject();
            String actionStr = jsonObject.get("action").getAsString();
            Action action = Action.valueOf(actionStr);

            log.debug("ëª…ë ¹ íŒŒì‹± ì„±ê³µ: userId={}, sessionId={}, requestId={}, action={}, hasRequester={}",
                     userId, sessionId, requestId, action, jsonObject.has("requesterId"));

            // ëª…ë ¹ ì‹¤í–‰
            long commandStart = System.currentTimeMillis();
            BaseCommand command = action.createCommand();
            command.execute(this, jsonObject);
            long commandDuration = System.currentTimeMillis() - commandStart;

            log.info("ëª…ë ¹ ì‹¤í–‰ ì™„ë£Œ: userId={}, sessionId={}, requestId={}, action={}, duration={}ms",
                    userId, sessionId, requestId, action, commandDuration);

        } catch (JsonSyntaxException e) {
            log.error("JSON íŒŒì‹± ì‹¤íŒ¨: userId={}, sessionId={}, requestId={}, messagePreview={}, error={}",
                     userId, sessionId, requestId,
                     message.length() > 100 ? message.substring(0, 100) + "..." : message,
                     e.getMessage(), e);
        } catch (IllegalArgumentException e) {
            log.error("ì•Œ ìˆ˜ ì—†ëŠ” ì•¡ì…˜: userId={}, sessionId={}, requestId={}, action={}, error={}",
                     userId, sessionId, requestId,
                     jsonObject != null ? jsonObject.get("action") : "null", e.getMessage());
        } catch (Exception e) {
            log.error("ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜: userId={}, sessionId={}, requestId={}, error={}",
                     userId, sessionId, requestId, e.getMessage(), e);
        }
    }
}
```

### MessageHandler ë¡œê¹… ì˜ˆì‹œ (ê°œì„ ëœ ë²„ì „)

```java
public class MessageHandler {
    private static final Logger log = LogManager.getLogger(MessageHandler.class);

    public void sendMessage(User sender, String content, int roomId, String messageType) {
        String operationId = UUID.randomUUID().toString().substring(0, 8);
        long startTime = System.currentTimeMillis();

        log.debug("ë©”ì‹œì§€ ì „ì†¡ ì‹œì‘: operationId={}, senderId={}, roomId={}, messageType={}, contentLength={}bytes",
                  operationId, sender.getUserId(), roomId, messageType, content.length());

        try {
            // 1. ì±„íŒ…ë°© ì¡´ì¬ í™•ì¸
            ChatRoom chatRoom = ChatServer.getChatRoom(roomId);
            if (chatRoom == null) {
                log.warn("ì±„íŒ…ë°© ì ‘ê·¼ ì‹¤íŒ¨: operationId={}, senderId={}, roomId={}, reason=ROOM_NOT_FOUND",
                        operationId, sender.getUserId(), roomId);
                sendErrorResponse(sender, "ROOM_NOT_FOUND", operationId);
                return;
            }

            log.debug("ì±„íŒ…ë°© ê²€ì¦ ì™„ë£Œ: operationId={}, roomId={}, roomName={}, participantCount={}, roomType={}",
                      operationId, roomId, chatRoom.getRoomName(),
                      chatRoom.getParticipants().size(), chatRoom.getRoomType());

            // 2. ê¶Œí•œ í™•ì¸
            if (!chatRoom.hasParticipant(sender.getUserId())) {
                log.warn("ê¶Œí•œ ì—†ëŠ” ë©”ì‹œì§€ ì „ì†¡ ì‹œë„: operationId={}, senderId={}, roomId={}, reason=NOT_PARTICIPANT",
                        operationId, sender.getUserId(), roomId);
                sendErrorResponse(sender, "ACCESS_DENIED", operationId);
                return;
            }

            // 3. ë©”ì‹œì§€ DB ì €ì¥
            long dbStartTime = System.currentTimeMillis();
            int messageId = saveMessageToDatabase(sender.getUserId(), roomId, content, messageType);
            long dbDuration = System.currentTimeMillis() - dbStartTime;

            log.debug("ë©”ì‹œì§€ DB ì €ì¥ ì™„ë£Œ: operationId={}, messageId={}, dbDuration={}ms",
                      operationId, messageId, dbDuration);

            // 4. ì°¸ê°€ìë“¤ì—ê²Œ ë©”ì‹œì§€ ì „ì†¡
            List<User> participants = chatRoom.getParticipants();
            List<User> onlineParticipants = new ArrayList<>();
            List<Integer> offlineParticipants = new ArrayList<>();
            int sentCount = 0;
            int failedCount = 0;

            for (User participant : participants) {
                if (participant.getUserId() != sender.getUserId()) {
                    try {
                        if (participant.isConnected()) {
                            participant.sendMessage(createMessageJson(messageId, content, messageType, sender));
                            onlineParticipants.add(participant);
                            sentCount++;

                            log.trace("ê°œë³„ ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ: operationId={}, targetUserId={}, messageId={}",
                                     operationId, participant.getUserId(), messageId);
                        } else {
                            offlineParticipants.add(participant.getUserId());
                            log.debug("ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì ê°ì§€: operationId={}, targetUserId={}, messageId={}, action=QUEUED",
                                     operationId, participant.getUserId(), messageId);
                        }
                    } catch (Exception e) {
                        failedCount++;
                        log.error("ê°œë³„ ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨: operationId={}, targetUserId={}, messageId={}, error={}",
                                 operationId, participant.getUserId(), messageId, e.getMessage(), e);
                    }
                }
            }

            long totalDuration = System.currentTimeMillis() - startTime;

            log.info("ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ: operationId={}, senderId={}, roomId={}, messageId={}, " +
                    "totalParticipants={}, onlineCount={}, offlineCount={}, sentCount={}, failedCount={}, " +
                    "totalDuration={}ms, dbDuration={}ms, deliveryRate={}%",
                    operationId, sender.getUserId(), roomId, messageId,
                    participants.size() - 1, onlineParticipants.size(), offlineParticipants.size(),
                    sentCount, failedCount, totalDuration, dbDuration,
                    participants.size() > 1 ? (sentCount * 100 / (participants.size() - 1)) : 100);

            // 5. ì „ì†¡ ìƒíƒœ ì—…ë°ì´íŠ¸
            updateMessageDeliveryStatus(messageId, sentCount, failedCount, operationId);

        } catch (DatabaseException e) {
            log.error("ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜: operationId={}, senderId={}, roomId={}, error={}, sqlState={}",
                     operationId, sender.getUserId(), roomId, e.getMessage(), e.getSQLState(), e);
            sendErrorResponse(sender, "DATABASE_ERROR", operationId);
        } catch (Exception e) {
            long totalDuration = System.currentTimeMillis() - startTime;
            log.error("ë©”ì‹œì§€ ì „ì†¡ ì¤‘ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜: operationId={}, senderId={}, roomId={}, " +
                     "duration={}ms, error={}",
                     operationId, sender.getUserId(), roomId, totalDuration, e.getMessage(), e);
            sendErrorResponse(sender, "INTERNAL_ERROR", operationId);
        }
    }

    private void sendErrorResponse(User user, String errorCode, String operationId) {
        try {
            JsonObject errorResponse = new JsonObject();
            errorResponse.addProperty("action", "ERROR");
            errorResponse.addProperty("errorCode", errorCode);
            errorResponse.addProperty("operationId", operationId);
            errorResponse.addProperty("timestamp", System.currentTimeMillis());

            user.sendMessage(errorResponse.toString());

            log.debug("ì—ëŸ¬ ì‘ë‹µ ì „ì†¡: operationId={}, userId={}, errorCode={}",
                     operationId, user.getUserId(), errorCode);
        } catch (Exception e) {
            log.error("ì—ëŸ¬ ì‘ë‹µ ì „ì†¡ ì‹¤íŒ¨: operationId={}, userId={}, errorCode={}, error={}",
                     operationId, user.getUserId(), errorCode, e.getMessage());
        }
    }
}
```

### WebRTC ì‹œê·¸ë„ë§ ë¡œê¹… ì˜ˆì‹œ

```java
public class WebRTCSignalingHandler {
    private static final Logger log = LogManager.getLogger(WebRTCSignalingHandler.class);

    public void handleSDP(User fromUser, User toUser, String sdpType, String sdp) {
        String signalId = UUID.randomUUID().toString().substring(0, 8);
        long startTime = System.currentTimeMillis();

        log.info("SDP ì‹œê·¸ë„ë§ ì‹œì‘: signalId={}, fromUserId={}, toUserId={}, sdpType={}, sdpSize={}bytes",
                signalId, fromUser.getUserId(), toUser.getUserId(), sdpType, sdp.length());

        try {
            // SDP ìœ íš¨ì„± ê²€ì¦
            if (!isValidSDP(sdp, sdpType)) {
                log.warn("SDP ê²€ì¦ ì‹¤íŒ¨: signalId={}, fromUserId={}, toUserId={}, sdpType={}, reason=INVALID_FORMAT",
                        signalId, fromUser.getUserId(), toUser.getUserId(), sdpType);
                return;
            }

            // ëŒ€ìƒ ì‚¬ìš©ì ì—°ê²° ìƒíƒœ í™•ì¸
            if (!toUser.isConnected()) {
                log.warn("SDP ì „ì†¡ ì‹¤íŒ¨: signalId={}, fromUserId={}, toUserId={}, reason=TARGET_OFFLINE",
                        signalId, fromUser.getUserId(), toUser.getUserId());
                return;
            }

            // SDP ë©”ì‹œì§€ ìƒì„± ë° ì „ì†¡
            JsonObject sdpMessage = createSDPMessage(fromUser.getUserId(), sdpType, sdp, signalId);
            toUser.sendMessage(sdpMessage.toString());

            long duration = System.currentTimeMillis() - startTime;

            log.info("SDP ì‹œê·¸ë„ë§ ì™„ë£Œ: signalId={}, fromUserId={}, toUserId={}, sdpType={}, " +
                    "duration={}ms, messageSize={}bytes",
                    signalId, fromUser.getUserId(), toUser.getUserId(), sdpType,
                    duration, sdpMessage.toString().length());

            // í†µê³„ ì—…ë°ì´íŠ¸
            updateSignalingStats(sdpType, duration);

        } catch (Exception e) {
            long duration = System.currentTimeMillis() - startTime;
            log.error("SDP ì‹œê·¸ë„ë§ ì˜¤ë¥˜: signalId={}, fromUserId={}, toUserId={}, sdpType={}, " +
                     "duration={}ms, error={}",
                     signalId, fromUser.getUserId(), toUser.getUserId(), sdpType,
                     duration, e.getMessage(), e);
        }
    }
}
```

---

## ğŸ“‹ ë¡œê·¸ ë¶„ì„ ë° ëª¨ë‹ˆí„°ë§

### 1. ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëª…ë ¹ì–´

#### ì‹œìŠ¤í…œ ìƒíƒœ ëª¨ë‹ˆí„°ë§

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
tail -f logs/assa-chat-server.log

# ì—ëŸ¬ ë¡œê·¸ë§Œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f logs/assa-chat-server.log | grep "ERROR\|FATAL"

# íŠ¹ì • ë ˆë²¨ ì´ìƒ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
tail -f logs/assa-chat-server.log | grep -E "WARN|ERROR|FATAL"

# ì„±ëŠ¥ ê´€ë ¨ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
tail -f logs/assa-chat-server.log | grep -E "duration=|processingTime=|timeout"
```

#### ì‚¬ìš©ì í™œë™ ëª¨ë‹ˆí„°ë§

```bash
# ì‚¬ìš©ì ì—°ê²°/í•´ì œ í˜„í™©
grep -E "ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘|ì‚¬ìš©ì ì„¸ì…˜ ì¢…ë£Œ" assa-chat-server.log | tail -20

# í˜„ì¬ í™œì„± ì‚¬ìš©ì ìˆ˜ (ìµœê·¼ 1ì‹œê°„)
grep "ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘" assa-chat-server.log | grep "$(date '+%Y-%m-%d %H')" | wc -l

# ë©”ì‹œì§€ ì „ì†¡ í†µê³„ (ìµœê·¼ 1ì‹œê°„)
grep "ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ" assa-chat-server.log | grep "$(date '+%Y-%m-%d %H')" | wc -l

# í‰ê·  ì„¸ì…˜ ì‹œê°„ ê³„ì‚°
grep "sessionDuration=" assa-chat-server.log | tail -100 | \
  sed 's/.*sessionDuration=\([0-9]*\)ms.*/\1/' | \
  awk '{sum+=$1; count++} END {print "í‰ê·  ì„¸ì…˜ ì‹œê°„:", sum/count/1000, "ì´ˆ"}'
```

### 2. ë””ë²„ê¹… ì‹œë‚˜ë¦¬ì˜¤ë³„ ë¡œê·¸ ê²€ìƒ‰

#### íŠ¹ì • ì‚¬ìš©ì ì¶”ì 

```bash
# íŠ¹ì • ì‚¬ìš©ìì˜ ì „ì²´ í™œë™ ì¶”ì 
grep "userId=123" assa-chat-server.log | head -50

# íŠ¹ì • ì‚¬ìš©ìì˜ ì„¸ì…˜ ì •ë³´
grep -E "userId=123.*sessionId=" assa-chat-server.log

# íŠ¹ì • ì‚¬ìš©ìì˜ ì—ëŸ¬ ë¡œê·¸ë§Œ
grep "userId=123" assa-chat-server.log | grep "ERROR"

# íŠ¹ì • ì„¸ì…˜ì˜ ëª¨ë“  í™œë™ ì¶”ì 
grep "sessionId=abc12345" assa-chat-server.log
```

#### ì±„íŒ…ë°© ê´€ë ¨ ë””ë²„ê¹…

```bash
# íŠ¹ì • ì±„íŒ…ë°©ì˜ ëª¨ë“  í™œë™
grep "roomId=456" assa-chat-server.log

# ì±„íŒ…ë°© ìƒì„±/ì‚­ì œ ì´ë²¤íŠ¸
grep -E "ì±„íŒ…ë°© ìƒì„±|ì±„íŒ…ë°© ì‚­ì œ" assa-chat-server.log

# ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨ ë¶„ì„
grep "ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨\|ê°œë³„ ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨" assa-chat-server.log | tail -20

# íŠ¹ì • ì±„íŒ…ë°©ì˜ ì„±ëŠ¥ ë©”íŠ¸ë¦­
grep "roomId=456" assa-chat-server.log | grep -E "duration=|deliveryTime="
```

#### WebRTC ì‹œê·¸ë„ë§ ë””ë²„ê¹…

```bash
# SDP êµí™˜ ê³¼ì • ì¶”ì 
grep -E "SDP ì‹œê·¸ë„ë§|signalId=" assa-chat-server.log

# ICE í›„ë³´ êµí™˜ ì¶”ì 
grep "ICE" assa-chat-server.log

# WebRTC ì—°ê²° ì‹¤íŒ¨ ë¶„ì„
grep -E "SDP.*ì‹¤íŒ¨|ICE.*ì‹¤íŒ¨|WebRTC.*ì˜¤ë¥˜" assa-chat-server.log

# ì˜ìƒë°© ì°¸ê°€ì ë³€í™” ì¶”ì 
grep -E "ì˜ìƒë°©.*ì°¸ê°€|ì˜ìƒë°©.*í‡´ì¥" assa-chat-server.log
```

### 3. ì„±ëŠ¥ ë¶„ì„ ì¿¼ë¦¬

#### ì‘ë‹µ ì‹œê°„ ë¶„ì„

```bash
# í‰ê·  ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œê°„
grep "processingTime=" assa-chat-server.log | tail -1000 | \
  sed 's/.*processingTime=\([0-9]*\)ms.*/\1/' | \
  awk '{sum+=$1; count++} END {print "í‰ê·  ì²˜ë¦¬ ì‹œê°„:", sum/count, "ms"}'

# ëŠë¦° ìš”ì²­ ì°¾ê¸° (100ms ì´ìƒ)
grep "duration=" assa-chat-server.log | \
  sed 's/.*duration=\([0-9]*\)ms.*/\1/' | \
  awk '$1 > 100 {print}' | wc -l

# ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì„±ëŠ¥
grep "dbDuration=" assa-chat-server.log | tail -100 | \
  sed 's/.*dbDuration=\([0-9]*\)ms.*/\1/' | \
  awk '{sum+=$1; count++} END {print "í‰ê·  DB ì‹œê°„:", sum/count, "ms"}'
```

#### ì—ëŸ¬ íŒ¨í„´ ë¶„ì„

```bash
# ì—ëŸ¬ ë°œìƒ ë¹ˆë„ (ì‹œê°„ëŒ€ë³„)
grep "ERROR" assa-chat-server.log | \
  cut -d' ' -f1-2 | sort | uniq -c | tail -24

# ê°€ì¥ ë¹ˆë²ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€
grep "ERROR" assa-chat-server.log | \
  sed 's/.*ERROR.*- //' | cut -d':' -f1 | sort | uniq -c | sort -nr | head -10

# íŠ¹ì • ì—ëŸ¬ì˜ ë°œìƒ ì¶”ì´
grep "JSON íŒŒì‹± ì‹¤íŒ¨" assa-chat-server.log | \
  cut -d' ' -f1 | sort | uniq -c

# ì—°ê²° ê´€ë ¨ ì—ëŸ¬ ë¶„ì„
grep -E "ì†Œì¼“ í†µì‹  ì˜¤ë¥˜|ì—°ê²°.*ì‹¤íŒ¨" assa-chat-server.log | tail -20
```

### 4. ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ ì¶”ì¶œ

#### ì‚¬ìš©ì í™œë™ í†µê³„

```bash
# ì¼ë³„ í™œì„± ì‚¬ìš©ì ìˆ˜
grep "ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘" assa-chat-server.log | \
  cut -d' ' -f1 | sort | uniq -c

# ì‹œê°„ëŒ€ë³„ ì ‘ì† íŒ¨í„´
grep "ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘" assa-chat-server.log | \
  cut -d' ' -f2 | cut -d':' -f1 | sort | uniq -c

# ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µë¥ 
total_attempts=$(grep "ë©”ì‹œì§€ ì „ì†¡ ì‹œì‘" assa-chat-server.log | wc -l)
successful=$(grep "ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ" assa-chat-server.log | wc -l)
echo "ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µë¥ : $(echo "scale=2; $successful * 100 / $total_attempts" | bc)%"

# í‰ê·  ì±„íŒ…ë°© ì°¸ê°€ì ìˆ˜
grep "participantCount=" assa-chat-server.log | \
  sed 's/.*participantCount=\([0-9]*\).*/\1/' | \
  awk '{sum+=$1; count++} END {print "í‰ê·  ì°¸ê°€ì ìˆ˜:", sum/count}'
```

#### WebRTC í†µê³„

```bash
# SDP êµí™˜ ì„±ê³µë¥ 
sdp_attempts=$(grep "SDP ì‹œê·¸ë„ë§ ì‹œì‘" assa-chat-server.log | wc -l)
sdp_success=$(grep "SDP ì‹œê·¸ë„ë§ ì™„ë£Œ" assa-chat-server.log | wc -l)
echo "SDP êµí™˜ ì„±ê³µë¥ : $(echo "scale=2; $sdp_success * 100 / $sdp_attempts" | bc)%"

# ì˜ìƒí†µí™” ì„¸ì…˜ í†µê³„
grep -E "ì˜ìƒë°© ìƒì„±|ì˜ìƒë°©.*ì¢…ë£Œ" assa-chat-server.log | tail -20

# í‰ê·  ì‹œê·¸ë„ë§ ì‹œê°„
grep "SDP ì‹œê·¸ë„ë§ ì™„ë£Œ" assa-chat-server.log | \
  sed 's/.*duration=\([0-9]*\)ms.*/\1/' | \
  awk '{sum+=$1; count++} END {print "í‰ê·  ì‹œê·¸ë„ë§ ì‹œê°„:", sum/count, "ms"}'
```

### 5. ë¡œê·¸ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ

#### ì¢…í•© ìƒíƒœ ë¦¬í¬íŠ¸ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# log_report.sh - ASSA Chat Server ë¡œê·¸ ë¶„ì„ ë¦¬í¬íŠ¸

LOG_FILE="logs/assa-chat-server.log"
TODAY=$(date '+%Y-%m-%d')

echo "=== ASSA Chat Server ì¼ì¼ ë¦¬í¬íŠ¸ ($TODAY) ==="
echo

# 1. ê¸°ë³¸ í†µê³„
echo "ğŸ“Š ê¸°ë³¸ í†µê³„"
echo "- ì´ ë¡œê·¸ ë¼ì¸ ìˆ˜: $(wc -l < $LOG_FILE)"
echo "- ì˜¤ëŠ˜ ë¡œê·¸ ë¼ì¸ ìˆ˜: $(grep "$TODAY" $LOG_FILE | wc -l)"
echo "- ì—ëŸ¬ ë°œìƒ ìˆ˜: $(grep "ERROR" $LOG_FILE | grep "$TODAY" | wc -l)"
echo "- ê²½ê³  ë°œìƒ ìˆ˜: $(grep "WARN" $LOG_FILE | grep "$TODAY" | wc -l)"
echo

# 2. ì‚¬ìš©ì í™œë™
echo "ğŸ‘¥ ì‚¬ìš©ì í™œë™"
active_users=$(grep "ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘" $LOG_FILE | grep "$TODAY" | wc -l)
echo "- ì˜¤ëŠ˜ í™œì„± ì‚¬ìš©ì: $active_users ëª…"
echo "- í˜„ì¬ ì—°ê²°ëœ ì‚¬ìš©ì: $(grep "ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘" $LOG_FILE | grep "$TODAY" | wc -l) ëª…"
echo

# 3. ë©”ì‹œì§€ í†µê³„
echo "ğŸ’¬ ë©”ì‹œì§€ í†µê³„"
messages_sent=$(grep "ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ" $LOG_FILE | grep "$TODAY" | wc -l)
echo "- ì˜¤ëŠ˜ ì „ì†¡ëœ ë©”ì‹œì§€: $messages_sent ê°œ"
if [ $messages_sent -gt 0 ]; then
    avg_delivery_rate=$(grep "deliveryRate=" $LOG_FILE | grep "$TODAY" | \
        sed 's/.*deliveryRate=\([0-9]*\)%.*/\1/' | \
        awk '{sum+=$1; count++} END {print sum/count}')
    echo "- í‰ê·  ì „ì†¡ ì„±ê³µë¥ : ${avg_delivery_rate}%"
fi
echo

# 4. ì„±ëŠ¥ ë©”íŠ¸ë¦­
echo "âš¡ ì„±ëŠ¥ ë©”íŠ¸ë¦­"
if grep "processingTime=" $LOG_FILE | grep "$TODAY" | head -1 > /dev/null; then
    avg_processing=$(grep "processingTime=" $LOG_FILE | grep "$TODAY" | \
        sed 's/.*processingTime=\([0-9]*\)ms.*/\1/' | \
        awk '{sum+=$1; count++} END {print sum/count}')
    echo "- í‰ê·  ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œê°„: ${avg_processing}ms"
fi

if grep "dbDuration=" $LOG_FILE | grep "$TODAY" | head -1 > /dev/null; then
    avg_db=$(grep "dbDuration=" $LOG_FILE | grep "$TODAY" | \
        sed 's/.*dbDuration=\([0-9]*\)ms.*/\1/' | \
        awk '{sum+=$1; count++} END {print sum/count}')
    echo "- í‰ê·  DB ì‘ë‹µ ì‹œê°„: ${avg_db}ms"
fi
echo

# 5. ìµœê·¼ ì—ëŸ¬
echo "ğŸš¨ ìµœê·¼ ì—ëŸ¬ (ìµœê·¼ 10ê°œ)"
grep "ERROR" $LOG_FILE | tail -10 | while read line; do
    echo "  - $line"
done
echo

echo "ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ: $(date)"
```

### 6. ì•Œë¦¼ ë° ëª¨ë‹ˆí„°ë§ ì„¤ì •

#### ì‹¤ì‹œê°„ ì•Œë¦¼ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# alert_monitor.sh - ì‹¤ì‹œê°„ ì—ëŸ¬ ëª¨ë‹ˆí„°ë§

LOG_FILE="logs/assa-chat-server.log"

# ì—ëŸ¬ ë°œìƒ ì‹œ ì•Œë¦¼
tail -f $LOG_FILE | while read line; do
    if echo "$line" | grep -q "ERROR\|FATAL"; then
        echo "[ALERT] $(date): $line"
        # ì—¬ê¸°ì— Slack, ì´ë©”ì¼ ë“± ì•Œë¦¼ ë¡œì§ ì¶”ê°€
    fi

    # ì„±ëŠ¥ ì„ê³„ê°’ ì´ˆê³¼ ì‹œ ì•Œë¦¼
    if echo "$line" | grep -q "duration=" && \
       echo "$line" | sed 's/.*duration=\([0-9]*\)ms.*/\1/' | \
       awk '$1 > 5000 {exit 0} {exit 1}'; then
        echo "[PERFORMANCE ALERT] ì‘ë‹µ ì‹œê°„ 5ì´ˆ ì´ˆê³¼: $line"
    fi
done
```

---

## âœ… ë¡œê·¸ ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ“ ë©”ì„œë“œ ì‘ì„± ì‹œ

#### í•„ìˆ˜ ë¡œê·¸

- [ ] **ë©”ì„œë“œ ì§„ì…**: ì£¼ìš” ë§¤ê°œë³€ìˆ˜ì™€ í•¨ê»˜ DEBUG ë ˆë²¨ë¡œ ê¸°ë¡
- [ ] **ë©”ì„œë“œ ì¢…ë£Œ**: ê²°ê³¼ê°’ê³¼ ì²˜ë¦¬ ì‹œê°„ í¬í•¨í•˜ì—¬ DEBUG ë ˆë²¨ë¡œ ê¸°ë¡
- [ ] **ì˜ˆì™¸ ì²˜ë¦¬**: ëª¨ë“  catch ë¸”ë¡ì— ERROR ë ˆë²¨ ë¡œê·¸ ì¶”ê°€
- [ ] **ì¤‘ìš” ë¶„ê¸°ì **: ì¡°ê±´ë¬¸ì˜ ì£¼ìš” ë¶„ê¸°ì— DEBUG ë¡œê·¸ ì¶”ê°€

#### ê¶Œì¥ ë¡œê·¸

- [ ] **ì„±ëŠ¥ ë©”íŠ¸ë¦­**: ì²˜ë¦¬ ì‹œê°„ì´ ì¤‘ìš”í•œ ë©”ì„œë“œëŠ” duration ì¸¡ì •
- [ ] **ìƒíƒœ ë³€í™”**: ê°ì²´ ìƒíƒœê°€ ë³€ê²½ë˜ëŠ” ì‹œì ì— INFO ë¡œê·¸
- [ ] **ì™¸ë¶€ í˜¸ì¶œ**: ë°ì´í„°ë² ì´ìŠ¤, API í˜¸ì¶œ ì „í›„ ë¡œê·¸
- [ ] **ê²€ì¦ ê²°ê³¼**: ì…ë ¥ê°’ ê²€ì¦ ê²°ê³¼ ë¡œê·¸

### ğŸ”§ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‘ì„± ì‹œ

#### ì‚¬ìš©ì ê´€ë ¨ ë¡œì§

- [ ] **ì—°ê²°/í•´ì œ**: ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘/ì¢…ë£Œ ì‹œ INFO ë¡œê·¸
- [ ] **ì¸ì¦/ê¶Œí•œ**: ì¸ì¦ ì‹œë„ ë° ê¶Œí•œ í™•ì¸ ê²°ê³¼ ë¡œê·¸
- [ ] **ìƒíƒœ ë³€ê²½**: ì‚¬ìš©ì ìƒíƒœ ë³€í™” ì‹œ INFO ë¡œê·¸
- [ ] **ì—ëŸ¬ ì²˜ë¦¬**: ì‚¬ìš©ì ê´€ë ¨ ì—ëŸ¬ ì‹œ userId í¬í•¨í•˜ì—¬ ë¡œê·¸

#### ë©”ì‹œì§€ ì²˜ë¦¬ ë¡œì§

- [ ] **ë©”ì‹œì§€ ìˆ˜ì‹ **: ë©”ì‹œì§€ í¬ê¸°, íƒ€ì…ê³¼ í•¨ê»˜ DEBUG ë¡œê·¸
- [ ] **ë©”ì‹œì§€ ì „ì†¡**: ìˆ˜ì‹ ì ìˆ˜, ì „ì†¡ ê²°ê³¼ì™€ í•¨ê»˜ INFO ë¡œê·¸
- [ ] **ì „ì†¡ ì‹¤íŒ¨**: ì‹¤íŒ¨ ì›ì¸ê³¼ ì¬ì‹œë„ ì •ë³´ í¬í•¨í•˜ì—¬ WARN/ERROR ë¡œê·¸
- [ ] **ì„±ëŠ¥ ì¶”ì **: ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œê°„, DB ì €ì¥ ì‹œê°„ ì¸¡ì •

#### WebRTC ì‹œê·¸ë„ë§ ë¡œì§

- [ ] **ì‹œê·¸ë„ë§ ì‹œì‘**: SDP/ICE êµí™˜ ì‹œì‘ ì‹œ INFO ë¡œê·¸
- [ ] **ì‹œê·¸ë„ë§ ì™„ë£Œ**: êµí™˜ ì™„ë£Œ ì‹œ ì²˜ë¦¬ ì‹œê°„ê³¼ í•¨ê»˜ INFO ë¡œê·¸
- [ ] **ì—°ê²° ì‹¤íŒ¨**: ì‹œê·¸ë„ë§ ì‹¤íŒ¨ ì‹œ ìƒì„¸ ì›ì¸ê³¼ í•¨ê»˜ ERROR ë¡œê·¸
- [ ] **ìƒíƒœ ì¶”ì **: ì˜ìƒë°© ì°¸ê°€ì ë³€í™” ì‹œ INFO ë¡œê·¸

### ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì‹œ

#### ì¿¼ë¦¬ ì‹¤í–‰

- [ ] **ì¿¼ë¦¬ ì‹œì‘**: ì¿¼ë¦¬ íƒ€ì…ê³¼ ì£¼ìš” íŒŒë¼ë¯¸í„° DEBUG ë¡œê·¸
- [ ] **ì¿¼ë¦¬ ì™„ë£Œ**: ì‹¤í–‰ ì‹œê°„ê³¼ ì˜í–¥ë°›ì€ í–‰ ìˆ˜ DEBUG ë¡œê·¸
- [ ] **ì¿¼ë¦¬ ì‹¤íŒ¨**: SQL ì—ëŸ¬ì™€ íŒŒë¼ë¯¸í„° í¬í•¨í•˜ì—¬ ERROR ë¡œê·¸
- [ ] **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ëŠë¦° ì¿¼ë¦¬(100ms ì´ìƒ) WARN ë¡œê·¸

#### íŠ¸ëœì­ì…˜ ê´€ë¦¬

- [ ] **íŠ¸ëœì­ì…˜ ì‹œì‘**: íŠ¸ëœì­ì…˜ ë²”ìœ„ DEBUG ë¡œê·¸
- [ ] **ì»¤ë°‹/ë¡¤ë°±**: íŠ¸ëœì­ì…˜ ê²°ê³¼ì™€ ì´ìœ  INFO ë¡œê·¸
- [ ] **ë°ë“œë½**: ë°ë“œë½ ë°œìƒ ì‹œ ê´€ë ¨ ì •ë³´ì™€ í•¨ê»˜ ERROR ë¡œê·¸

### ğŸŒ ë„¤íŠ¸ì›Œí¬ í†µì‹  ì‹œ

#### ì†Œì¼“ í†µì‹ 

- [ ] **ì—°ê²° ìˆ˜ë½**: í´ë¼ì´ì–¸íŠ¸ IPì™€ í¬íŠ¸ ì •ë³´ INFO ë¡œê·¸
- [ ] **ì—°ê²° í•´ì œ**: í•´ì œ ì›ì¸ê³¼ ì„¸ì…˜ ì •ë³´ INFO ë¡œê·¸
- [ ] **í†µì‹  ì˜¤ë¥˜**: ì†Œì¼“ ì—ëŸ¬ì™€ ì—°ê²° ìƒíƒœ ERROR ë¡œê·¸
- [ ] **íƒ€ì„ì•„ì›ƒ**: íƒ€ì„ì•„ì›ƒ ë°œìƒ ì‹œ ì„¤ì •ê°’ê³¼ í•¨ê»˜ WARN ë¡œê·¸

#### ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ 

- [ ] **ë©”ì‹œì§€ ì†¡ì‹ **: ë©”ì‹œì§€ í¬ê¸°ì™€ ëŒ€ìƒ ì •ë³´ DEBUG ë¡œê·¸
- [ ] **ë©”ì‹œì§€ ìˆ˜ì‹ **: ë°œì‹ ìì™€ ë©”ì‹œì§€ íƒ€ì… ì •ë³´ DEBUG ë¡œê·¸
- [ ] **íŒŒì‹± ì˜¤ë¥˜**: JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë©”ì‹œì§€ ì¼ë¶€ í¬í•¨ ERROR ë¡œê·¸

### ğŸ”’ ë³´ì•ˆ ê´€ë ¨ ë¡œì§

#### ì¸ì¦/ì¸ê°€

- [ ] **ë¡œê·¸ì¸ ì‹œë„**: ì‚¬ìš©ì IDì™€ ì‹œë„ ê²°ê³¼ INFO ë¡œê·¸
- [ ] **ê¶Œí•œ í™•ì¸**: ìš”ì²­ëœ ê¶Œí•œê³¼ í™•ì¸ ê²°ê³¼ DEBUG ë¡œê·¸
- [ ] **ì ‘ê·¼ ê±°ë¶€**: ê±°ë¶€ ì›ì¸ê³¼ ì‚¬ìš©ì ì •ë³´ WARN ë¡œê·¸
- [ ] **ë³´ì•ˆ ìœ„ë°˜**: ì˜ì‹¬ìŠ¤ëŸ¬ìš´ í™œë™ ì‹œ ìƒì„¸ ì •ë³´ ERROR ë¡œê·¸

#### ë¯¼ê° ì •ë³´ ì²˜ë¦¬

- [ ] **ë°ì´í„° ë§ˆìŠ¤í‚¹**: ë¹„ë°€ë²ˆí˜¸, í† í° ë“± ë¯¼ê° ì •ë³´ ë§ˆìŠ¤í‚¹ í™•ì¸
- [ ] **ê°œì¸ì •ë³´ ë³´í˜¸**: ì´ë©”ì¼, ì „í™”ë²ˆí˜¸ ë“± ë¶€ë¶„ ë§ˆìŠ¤í‚¹ ì ìš©
- [ ] **ë¡œê·¸ ë ˆë²¨ í™•ì¸**: ë¯¼ê° ì •ë³´ê°€ í¬í•¨ëœ ë¡œê·¸ì˜ ì ì ˆí•œ ë ˆë²¨ ì„¤ì •

### ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### ì‘ë‹µ ì‹œê°„ ì¸¡ì •

- [ ] **ì²˜ë¦¬ ì‹œê°„**: ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
- [ ] **ì„ê³„ê°’ í™•ì¸**: ì„¤ì •ëœ ì„ê³„ê°’ ì´ˆê³¼ ì‹œ WARN ë¡œê·¸
- [ ] **ë³‘ëª© ì§€ì **: ì„±ëŠ¥ ë³‘ëª©ì´ ì˜ˆìƒë˜ëŠ” ì§€ì ì— ì¸¡ì • ë¡œê·¸
- [ ] **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰**: ë©”ëª¨ë¦¬, CPU ì‚¬ìš©ëŸ‰ì´ ë†’ì„ ë•Œ ëª¨ë‹ˆí„°ë§ ë¡œê·¸

#### ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­

- [ ] **ì‚¬ìš©ì í™œë™**: í™œì„± ì‚¬ìš©ì ìˆ˜, ì„¸ì…˜ ì‹œê°„ ë“± ì¸¡ì •
- [ ] **ë©”ì‹œì§€ í†µê³„**: ì „ì†¡ ì„±ê³µë¥ , í‰ê·  ì‘ë‹µ ì‹œê°„ ë“± ì¸¡ì •
- [ ] **ì—ëŸ¬ìœ¨**: ì‹œê°„ëŒ€ë³„ ì—ëŸ¬ ë°œìƒë¥  ì¶”ì 
- [ ] **ì‹œìŠ¤í…œ ìƒíƒœ**: ì „ì²´ ì‹œìŠ¤í…œ ê±´ê°•ë„ ì§€í‘œ ë¡œê·¸

### ğŸ§ª í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…

#### ê°œë°œ í™˜ê²½

- [ ] **í…ŒìŠ¤íŠ¸ ë°ì´í„°**: í…ŒìŠ¤íŠ¸ìš© ë°ì´í„° ì‚¬ìš© ì‹œ ëª…í™•íˆ í‘œì‹œ
- [ ] **ë””ë²„ê·¸ ì •ë³´**: ê°œë°œ ì‹œ í•„ìš”í•œ ìƒì„¸ ì •ë³´ TRACE/DEBUG ë¡œê·¸
- [ ] **ëª¨ì˜ ê°ì²´**: Mock ê°ì²´ ì‚¬ìš© ì‹œ ì‹¤ì œ í˜¸ì¶œê³¼ êµ¬ë¶„í•˜ì—¬ ë¡œê·¸

#### í”„ë¡œë•ì…˜ ì¤€ë¹„

- [ ] **ë¡œê·¸ ë ˆë²¨ ê²€í† **: í”„ë¡œë•ì…˜ì—ì„œ ë¶ˆí•„ìš”í•œ DEBUG ë¡œê·¸ ì œê±°
- [ ] **ì„±ëŠ¥ ì˜í–¥**: ë¡œê¹…ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ ìµœì†Œí™”
- [ ] **ë¡œê·¸ ìˆœí™˜**: ë¡œê·¸ íŒŒì¼ í¬ê¸° ê´€ë¦¬ ì„¤ì • í™•ì¸
- [ ] **ëª¨ë‹ˆí„°ë§ ì—°ë™**: ë¡œê·¸ ë¶„ì„ ë„êµ¬ì™€ì˜ ì—°ë™ í™•ì¸

### ğŸ“‹ ì½”ë“œ ë¦¬ë·° ì‹œ í™•ì¸ì‚¬í•­

#### ë¡œê·¸ í’ˆì§ˆ

- [ ] **ë©”ì‹œì§€ ëª…í™•ì„±**: ë¡œê·¸ ë©”ì‹œì§€ë§Œìœ¼ë¡œ ìƒí™© íŒŒì•… ê°€ëŠ¥í•œì§€ í™•ì¸
- [ ] **ì»¨í…ìŠ¤íŠ¸ ì¶©ë¶„ì„±**: ë””ë²„ê¹…ì— í•„ìš”í•œ ì •ë³´ê°€ ì¶©ë¶„íˆ í¬í•¨ë˜ì—ˆëŠ”ì§€ í™•ì¸
- [ ] **ì¼ê´€ì„±**: í”„ë¡œì íŠ¸ ì „ì²´ì˜ ë¡œê·¸ íŒ¨í„´ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
- [ ] **ì ì ˆì„±**: ë¡œê·¸ ë ˆë²¨ì´ ë©”ì‹œì§€ì˜ ì¤‘ìš”ë„ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

#### ë³´ì•ˆ ë° ì„±ëŠ¥

- [ ] **ë¯¼ê° ì •ë³´**: ë¯¼ê°í•œ ì •ë³´ê°€ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸
- [ ] **ì„±ëŠ¥ ì˜í–¥**: ê³¼ë„í•œ ë¡œê¹…ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ ì—†ëŠ”ì§€ í™•ì¸
- [ ] **ì˜ˆì™¸ ì²˜ë¦¬**: ëª¨ë“  ì˜ˆì™¸ê°€ ì ì ˆíˆ ë¡œê¹…ë˜ëŠ”ì§€ í™•ì¸
- [ ] **ë¦¬ì†ŒìŠ¤ ê´€ë¦¬**: ë¡œê·¸ ê´€ë ¨ ë¦¬ì†ŒìŠ¤ê°€ ì ì ˆíˆ ê´€ë¦¬ë˜ëŠ”ì§€ í™•ì¸

---

## ğŸ¯ ë¡œê·¸ ì‘ì„± ìš°ì„ ìˆœìœ„

### ğŸ”´ ë†’ì€ ìš°ì„ ìˆœìœ„ (ë°˜ë“œì‹œ í¬í•¨)

1. **ì—ëŸ¬ ë° ì˜ˆì™¸ ìƒí™©**: ëª¨ë“  ì˜ˆì™¸ëŠ” ë°˜ë“œì‹œ ë¡œê¹…
2. **ì‚¬ìš©ì ì„¸ì…˜ ê´€ë¦¬**: ì—°ê²°/í•´ì œ, ì¸ì¦ ê²°ê³¼
3. **ë¹„ì¦ˆë‹ˆìŠ¤ í•µì‹¬ ì´ë²¤íŠ¸**: ë©”ì‹œì§€ ì „ì†¡, ì±„íŒ…ë°© ìƒì„± ë“±
4. **ë³´ì•ˆ ê´€ë ¨ ì´ë²¤íŠ¸**: ì¸ì¦ ì‹¤íŒ¨, ê¶Œí•œ ìœ„ë°˜ ë“±

### ğŸŸ¡ ì¤‘ê°„ ìš°ì„ ìˆœìœ„ (ê¶Œì¥)

1. **ì„±ëŠ¥ ë©”íŠ¸ë¦­**: ì‘ë‹µ ì‹œê°„, ì²˜ë¦¬ëŸ‰ ì¸¡ì •
2. **ìƒíƒœ ë³€í™”**: ì¤‘ìš” ê°ì²´ì˜ ìƒíƒœ ë³€ê²½
3. **ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™**: DB, API í˜¸ì¶œ ê²°ê³¼
4. **ì„¤ì • ë° ì´ˆê¸°í™”**: ì‹œìŠ¤í…œ ì‹œì‘/ì¢…ë£Œ ê³¼ì •

### ğŸŸ¢ ë‚®ì€ ìš°ì„ ìˆœìœ„ (ì„ íƒì )

1. **ìƒì„¸ ë””ë²„ê·¸ ì •ë³´**: ê°œë°œ ì‹œì—ë§Œ í•„ìš”í•œ ì •ë³´
2. **ë‚´ë¶€ ë¡œì§ ì¶”ì **: ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ì˜ ì¤‘ê°„ ê³¼ì •
3. **ì„±ëŠ¥ ìµœì í™” ì •ë³´**: ì„¸ë°€í•œ ì„±ëŠ¥ íŠœë‹ìš© ë°ì´í„°
4. **í†µê³„ ë° ë¶„ì„**: ë¹„ì¦ˆë‹ˆìŠ¤ ì¸í…”ë¦¬ì „ìŠ¤ìš© ë°ì´í„°

- [ ] ì„±ëŠ¥ ì¸¡ì •ì´ í•„ìš”í•œ êµ¬ê°„ ë¡œê¹…
- [ ] ì‚¬ìš©ì ì‹ë³„ ì •ë³´ í¬í•¨

### ì—ëŸ¬ ì²˜ë¦¬ ì‹œ

- [ ] ì—ëŸ¬ ë°œìƒ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ í¬í•¨
- [ ] ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í¬í•¨ (ERROR ë ˆë²¨)
- [ ] ë³µêµ¬ ê°€ëŠ¥í•œ ì—ëŸ¬ëŠ” WARN ë ˆë²¨ ì‚¬ìš©
- [ ] ì‚¬ìš©ì ì˜í–¥ë„ ê³ ë ¤í•œ ë¡œê·¸ ë ˆë²¨ ì„ íƒ

---

**ëª©í‘œ**: ì‹¤í–‰íë¦„ ì¶”ì ê³¼ ë””ë²„ê¹… íš¨ìœ¨ì„± ê·¹ëŒ€í™”  
**í•µì‹¬**: ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨ + ìƒì„¸í•œ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ + ì¼ê´€ëœ í˜•ì‹  
**ê²°ê³¼**: ë¹ ë¥¸ ë¬¸ì œ í•´ê²° + ì•ˆì •ì ì¸ ì„œë²„ ìš´ì˜

> ì´ ë¡œê·¸ ì‘ì„± ê·œì¹™ì„ ë”°ë¼ ASSA Chat Serverì˜ ë³µì¡í•œ ì‹¤í–‰ íë¦„ì„ ëª…í™•í•˜ê²Œ ì¶”ì í•˜ê³ , ë¬¸ì œ ë°œìƒ ì‹œ ì‹ ì†í•œ ë””ë²„ê¹…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
